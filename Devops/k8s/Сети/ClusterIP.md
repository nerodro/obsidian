ClusterIP является фундаментальной технологией, обмена пакетами между pod в k8s
```
apiVersion: v1
kind: Service
metadata:
  name: my-internal-service  # Внутреннее DNS-имя сервиса
spec:
  type: ClusterIP  # Этот тип можно не указывать, так как он установлен по умолчанию
  selector:
    app: my-app  # Выбирает все Pod'ы с этим лейблом
  ports:
    - protocol: TCP
      port: 80      # Порт, на котором сервис принимает запросы
      targetPort: 80 # Порт на Pod'ах, на который перенаправляется трафик
```
ClusterIP используется только для обмена пакетами внутри сети k8s, и к нему нельзя отправить пакет снаружи
При созданий clusterip, сервису для которого он был создан назначается так же dns, при этом даже если pod будет удален, то после пересоздания на данный pod все еще можно будет отправить пакеты на тот же dns
При описаний clusterip мы не привязываем его к определенному pod, вместо этого мы прописываем селекторы по которым его нужно искать, тем самым делая clusterip более устойчивым к изменениям
Так же нужно понимать, что сам по себе clusterip никак не связан с отправкой пакетов по сети внутри k8s, для этого используются различные [[CNI]], он лишь выступает в роли прокси или входной точки, к которой может быть привязано любое количество pod, при этом сам он не может знать на какой именно pod дальше пойдет трафик