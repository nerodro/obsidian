ARP это протокол который связывает MAC адрес устройства с его [[IP]] адресом в тот момент, для трафика внутри сети, он не работает с трафиком из внешней сети
При этом, сама работа построена на основе ARP таблиц, в которой IP адрес связан с MAC адресом
Таким образом, если одно устройство в локальной сети, хочет отправить пакеты другому устройству в той же сети, оно сначала смотрит свою ARP таблицу, и по IP адресу устройства находит его mac и только после этого отправляет пакет
Если у текущего устройства в arp таблице нет нужного mac адреса соответствующего ip, он запрашивает у других устройств его mac, после чего обновляет свои таблицы и только после этого отправляет запрос
Данный протокол необходим,  так-как именно ip адрес является идентификатором устройства внутри сети
При этом, сам ARP соединяет два уровня, 2 на котором работают коммутаторы с mac адресами и 3 на котором работают такие протоколы как IP